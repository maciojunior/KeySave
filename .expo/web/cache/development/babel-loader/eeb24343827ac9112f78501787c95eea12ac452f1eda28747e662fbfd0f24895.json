{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Toast from 'react-native-toast-message';\nimport uuid from 'react-native-uuid';\nimport { useAsyncStorage } from '@react-native-async-storage/async-storage';\nimport { styles } from \"./styles\";\nimport { Input } from \"../../components/Input\";\nimport { Button } from \"../../components/Button\";\nimport { HeaderForm } from \"../../components/HeaderForm\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function Form() {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    name = _useState2[0],\n    setName = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    user = _useState4[0],\n    setUser = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    password = _useState6[0],\n    setPassword = _useState6[1];\n  var _useAsyncStorage = useAsyncStorage(\"@savepass:passwords\"),\n    getItem = _useAsyncStorage.getItem,\n    setItem = _useAsyncStorage.setItem;\n  function handleNew() {\n    return _handleNew.apply(this, arguments);\n  }\n  function _handleNew() {\n    _handleNew = _asyncToGenerator(function* () {\n      try {\n        var id = uuid.v4();\n        var newData = {\n          id: id,\n          name: name,\n          user: user,\n          password: password\n        };\n        var response = yield getItem();\n        var previousData = response ? JSON.parse(response) : [];\n        var data = [].concat(_toConsumableArray(previousData), [newData]);\n        yield setItem(JSON.stringify(data));\n        Toast.show({\n          type: \"success\",\n          text1: \"Cadastrado com sucesso!\"\n        });\n      } catch (error) {\n        console.log(error);\n        Toast.show({\n          type: \"error\",\n          text1: \"Não foi possível cadastrar.\"\n        });\n      }\n    });\n    return _handleNew.apply(this, arguments);\n  }\n  return _jsx(KeyboardAvoidingView, {\n    behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n    style: styles.container,\n    children: _jsx(View, {\n      style: styles.content,\n      children: _jsxs(ScrollView, {\n        children: [_jsx(HeaderForm, {}), _jsxs(View, {\n          style: styles.form,\n          children: [_jsx(Input, {\n            label: \"Nome do servi\\xE7o\",\n            onChangeText: setName\n          }), _jsx(Input, {\n            label: \"E-mail ou usu\\xE1rio\",\n            autoCapitalize: \"none\",\n            onChangeText: setUser\n          }), _jsx(Input, {\n            label: \"Senha\",\n            secureTextEntry: true,\n            onChangeText: setPassword\n          })]\n        }), _jsx(View, {\n          style: styles.footer,\n          children: _jsx(Button, {\n            title: \"Salvar\",\n            onPress: handleNew\n          })\n        })]\n      })\n    })\n  });\n}","map":{"version":3,"names":["React","useState","KeyboardAvoidingView","Platform","ScrollView","View","Toast","uuid","useAsyncStorage","styles","Input","Button","HeaderForm","jsx","_jsx","jsxs","_jsxs","Form","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","user","setUser","_useState5","_useState6","password","setPassword","_useAsyncStorage","getItem","setItem","handleNew","_handleNew","apply","arguments","_asyncToGenerator","id","v4","newData","response","previousData","JSON","parse","data","concat","_toConsumableArray","stringify","show","type","text1","error","console","log","behavior","OS","style","container","children","content","form","label","onChangeText","autoCapitalize","secureTextEntry","footer","title","onPress"],"sources":["C:/Users/Laptop/Desktop/gera/KeySave/src/screens/Form/index.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { KeyboardAvoidingView, Platform, ScrollView, View } from 'react-native';\nimport Toast from 'react-native-toast-message';\nimport uuid from 'react-native-uuid';\nimport { useAsyncStorage } from '@react-native-async-storage/async-storage';\n\nimport { styles } from './styles';\n\nimport { Input } from '../../components/Input';\nimport { Button } from '../../components/Button';\nimport { HeaderForm } from '../../components/HeaderForm';\n\nexport function Form() {\n  const [name, setName] = useState(\"\");\n  const [user, setUser] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const { getItem, setItem } = useAsyncStorage(\"@savepass:passwords\");\n\n  async function handleNew() {\n    try {\n      const id = uuid.v4();\n\n      const newData = {\n        id,\n        name,\n        user,\n        password\n      }\n\n      const response = await getItem();\n      const previousData = response ? JSON.parse(response) : [];\n\n      const data = [...previousData, newData];\n\n      await setItem(JSON.stringify(data));\n      Toast.show({\n        type: \"success\",\n        text1: \"Cadastrado com sucesso!\"\n      })\n    } catch (error) {\n      console.log(error);\n\n      Toast.show({\n        type: \"error\",\n        text1: \"Não foi possível cadastrar.\"\n      })\n    }\n  }\n\n  return (\n    <KeyboardAvoidingView\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      style={styles.container}\n    >\n      <View style={styles.content}>\n        <ScrollView>\n\n          <HeaderForm />\n\n          <View style={styles.form}>\n            <Input\n              label=\"Nome do serviço\"\n              onChangeText={setName}\n            />\n            <Input\n              label=\"E-mail ou usuário\"\n              autoCapitalize=\"none\"\n              onChangeText={setUser}\n            />\n            <Input\n              label=\"Senha\"\n              secureTextEntry\n              onChangeText={setPassword}\n            />\n          </View>\n\n          <View style={styles.footer}>\n            <Button\n              title=\"Salvar\"\n              onPress={handleNew}\n            />\n          </View>\n        </ScrollView>\n      </View>\n    </KeyboardAvoidingView >\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}