{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useCallback, useState } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useAsyncStorage } from '@react-native-async-storage/async-storage';\nimport { Card } from \"../../components/Card\";\nimport { HeaderHome } from \"../../components/HeaderHome\";\nimport { useFocusEffect } from '@react-navigation/native';\nimport { styles } from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function Home() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useAsyncStorage = useAsyncStorage(\"@savepass:passwords\"),\n    getItem = _useAsyncStorage.getItem,\n    setItem = _useAsyncStorage.setItem;\n  function handleFetchData() {\n    return _handleFetchData.apply(this, arguments);\n  }\n  function _handleFetchData() {\n    _handleFetchData = _asyncToGenerator(function* () {\n      var response = yield getItem();\n      var data = response ? JSON.parse(response) : [];\n      setData(data);\n    });\n    return _handleFetchData.apply(this, arguments);\n  }\n  function handleRemove(_x) {\n    return _handleRemove.apply(this, arguments);\n  }\n  function _handleRemove() {\n    _handleRemove = _asyncToGenerator(function* (id) {\n      var response = yield getItem();\n      var previousData = response ? JSON.parse(response) : [];\n      var data = previousData.filter(function (item) {\n        return item.id !== id;\n      });\n      setItem(JSON.stringify(data));\n      setData(data);\n    });\n    return _handleRemove.apply(this, arguments);\n  }\n  useFocusEffect(useCallback(function () {\n    handleFetchData();\n  }, []));\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(HeaderHome, {}), _jsxs(View, {\n      style: styles.listHeader,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"Suas senhas\"\n      }), _jsx(Text, {\n        style: styles.listCount,\n        children: data.length + \" ao total\"\n      })]\n    }), _jsx(FlatList, {\n      data: data,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      style: styles.list,\n      contentContainerStyle: styles.listContent,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(Card, {\n          data: item,\n          onPress: function onPress() {\n            return handleRemove(item.id);\n          }\n        });\n      }\n    })]\n  });\n}","map":{"version":3,"names":["useCallback","useState","FlatList","Text","View","useAsyncStorage","Card","HeaderHome","useFocusEffect","styles","jsx","_jsx","jsxs","_jsxs","Home","_useState","_useState2","_slicedToArray","data","setData","_useAsyncStorage","getItem","setItem","handleFetchData","_handleFetchData","apply","arguments","_asyncToGenerator","response","JSON","parse","handleRemove","_x","_handleRemove","id","previousData","filter","item","stringify","style","container","children","listHeader","title","listCount","length","keyExtractor","list","contentContainerStyle","listContent","renderItem","_ref","onPress"],"sources":["C:/DEV/CRUD/Guard_keys/src/screens/Home/index.tsx"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport { FlatList, Text, View } from 'react-native';\nimport { useAsyncStorage } from '@react-native-async-storage/async-storage';\n\nimport { Card, CardProps } from '../../components/Card';\nimport { HeaderHome } from '../../components/HeaderHome';\nimport { useFocusEffect } from '@react-navigation/native';\n\nimport { styles } from './styles';\nimport { Button } from '../../components/Button';\n\nexport function Home() {\n  const [data, setData] = useState<CardProps[]>([]);\n\n  const { getItem, setItem } = useAsyncStorage(\"@savepass:passwords\");\n\n  async function handleFetchData() {\n    const response = await getItem();\n    const data = response ? JSON.parse(response) : [];\n    setData(data);\n  }\n\n  async function handleRemove(id: string) {\n    const response = await getItem();\n    const previousData = response ? JSON.parse(response) : [];\n\n    const data = previousData.filter((item: CardProps) => item.id !== id);\n    setItem(JSON.stringify(data));\n    setData(data);\n  }\n\n  useFocusEffect(useCallback(() => {\n    handleFetchData();\n  }, []));\n\n\n  return (\n    <View style={styles.container}>\n      <HeaderHome />\n\n      <View style={styles.listHeader}>\n        <Text style={styles.title}>\n          Suas senhas\n        </Text>\n\n        <Text style={styles.listCount}>\n          {`${data.length} ao total`}\n        </Text>\n      </View>\n\n      <FlatList\n        data={data}\n        keyExtractor={item => item.id}\n        style={styles.list}\n        contentContainerStyle={styles.listContent}\n        renderItem={({ item }) =>\n          <Card\n            data={item}\n            onPress={() => handleRemove(item.id)}\n          />\n        }\n      />\n    </View>\n  );\n}"],"mappings":";;AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,QAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAE9C,SAASC,eAAe,QAAQ,2CAA2C;AAE3E,SAASC,IAAI;AACb,SAASC,UAAU;AACnB,SAASC,cAAc,QAAQ,0BAA0B;AAEzD,SAASC,MAAM;AAAmB,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAGlC,OAAO,SAASC,IAAIA,CAAA,EAAG;EACrB,IAAAC,SAAA,GAAwBd,QAAQ,CAAc,EAAE,CAAC;IAAAe,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpB,IAAAI,gBAAA,GAA6Bf,eAAe,CAAC,qBAAqB,CAAC;IAA3DgB,OAAO,GAAAD,gBAAA,CAAPC,OAAO;IAAEC,OAAO,GAAAF,gBAAA,CAAPE,OAAO;EAA4C,SAErDC,eAAeA,CAAA;IAAA,OAAAC,gBAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAF,iBAAA;IAAAA,gBAAA,GAAAG,iBAAA,CAA9B,aAAiC;MAC/B,IAAMC,QAAQ,SAASP,OAAO,CAAC,CAAC;MAChC,IAAMH,IAAI,GAAGU,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC,GAAG,EAAE;MACjDT,OAAO,CAACD,IAAI,CAAC;IACf,CAAC;IAAA,OAAAM,gBAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAEcK,YAAYA,CAAAC,EAAA;IAAA,OAAAC,aAAA,CAAAR,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAO,cAAA;IAAAA,aAAA,GAAAN,iBAAA,CAA3B,WAA4BO,EAAU,EAAE;MACtC,IAAMN,QAAQ,SAASP,OAAO,CAAC,CAAC;MAChC,IAAMc,YAAY,GAAGP,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC,GAAG,EAAE;MAEzD,IAAMV,IAAI,GAAGiB,YAAY,CAACC,MAAM,CAAC,UAACC,IAAe;QAAA,OAAKA,IAAI,CAACH,EAAE,KAAKA,EAAE;MAAA,EAAC;MACrEZ,OAAO,CAACO,IAAI,CAACS,SAAS,CAACpB,IAAI,CAAC,CAAC;MAC7BC,OAAO,CAACD,IAAI,CAAC;IACf,CAAC;IAAA,OAAAe,aAAA,CAAAR,KAAA,OAAAC,SAAA;EAAA;EAEDlB,cAAc,CAACR,WAAW,CAAC,YAAM;IAC/BuB,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC,CAAC;EAGP,OACEV,KAAA,CAACT,IAAI;IAACmC,KAAK,EAAE9B,MAAM,CAAC+B,SAAU;IAAAC,QAAA,GAC5B9B,IAAA,CAACJ,UAAU,IAAE,CAAC,EAEdM,KAAA,CAACT,IAAI;MAACmC,KAAK,EAAE9B,MAAM,CAACiC,UAAW;MAAAD,QAAA,GAC7B9B,IAAA,CAACR,IAAI;QAACoC,KAAK,EAAE9B,MAAM,CAACkC,KAAM;QAAAF,QAAA,EAAC;MAE3B,CAAM,CAAC,EAEP9B,IAAA,CAACR,IAAI;QAACoC,KAAK,EAAE9B,MAAM,CAACmC,SAAU;QAAAH,QAAA,EACxBvB,IAAI,CAAC2B,MAAM;MAAA,CACX,CAAC;IAAA,CACH,CAAC,EAEPlC,IAAA,CAACT,QAAQ;MACPgB,IAAI,EAAEA,IAAK;MACX4B,YAAY,EAAE,SAAAA,aAAAT,IAAI;QAAA,OAAIA,IAAI,CAACH,EAAE;MAAA,CAAC;MAC9BK,KAAK,EAAE9B,MAAM,CAACsC,IAAK;MACnBC,qBAAqB,EAAEvC,MAAM,CAACwC,WAAY;MAC1CC,UAAU,EAAE,SAAAA,WAAAC,IAAA;QAAA,IAAGd,IAAI,GAAAc,IAAA,CAAJd,IAAI;QAAA,OACjB1B,IAAA,CAACL,IAAI;UACHY,IAAI,EAAEmB,IAAK;UACXe,OAAO,EAAE,SAAAA,QAAA;YAAA,OAAMrB,YAAY,CAACM,IAAI,CAACH,EAAE,CAAC;UAAA;QAAC,CACtC,CAAC;MAAA;IACH,CACF,CAAC;EAAA,CACE,CAAC;AAEX"},"metadata":{},"sourceType":"module","externalDependencies":[]}